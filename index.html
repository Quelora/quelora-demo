<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page_title">Quelora | High-Performance Comment System with Augmented Intelligence</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <script src="https://unpkg.com/i18next@23.12.2/i18next.min.js"></script>

    <style>
        /* Paleta de Colores Sofisticada (sin cambios) */
        :root {
            --color-primary-accent: #007BFF; /* Azul profesional */
            --color-primary-hover: #0056b3;
            --color-text-dark: #1C1C1C;
            --color-text-light: #EAEAEA;
            --color-text-secondary: #6C757D;
            --color-background-light: #FFFFFF;
            --color-background-dark: #F8F9FA;
            --color-card-background-light: #FFFFFF;
            --color-card-background-dark: #F0F0F0;
            --color-border: #E0E0E0;
            --transition-speed: 0.3s;
        }

        [data-theme="dark"] {
            --color-text-dark: #EAEAEA;
            --color-text-light: #1C1C1C;
            --color-text-secondary: #9CA3AF;
            --color-background-light: #0A0A0A; /* Negro puro */
            --color-background-dark: #1F2937; /* Gris oscuro para contraste */
            --color-card-background-light: #1F2937;
            --color-card-background-dark: #151515;
            --color-border: #374151;
            --bs-heading-color: var(--color-text-dark) !important;
            --bs-card-color: var(--color-text-dark) !important;
            --bs-card-title-color: var(--color-text-dark) !important;
        }

        /* Base */
        body {
            font-family: 'Inter', sans-serif;
            color: var(--color-text-dark);
            background-color: var(--color-background-light);
            transition: background-color var(--transition-speed);
            line-height: 1.6;
        }

        /* Tipografía */
        h1, h2, h3, h4 {
            font-weight: 800; /* Más audaz */
            letter-spacing: -0.04em;
        }
        .display-4 {
            font-weight: 900;
        }

        /* Navbar */
        .navbar {
            background-color: var(--color-background-light) !important;
            box-shadow: 0 1px 15px rgba(0, 0, 0, 0.05);
            border-bottom: 1px solid var(--color-border);
        }
        [data-theme="dark"] .navbar {
            box-shadow: 0 1px 15px rgba(0, 0, 0, 0.4);
            border-bottom-color: #2D3748;
        }
        .nav-link, .navbar-brand {
            color: var(--color-text-dark) !important;
            font-weight: 600;
        }

        /* Botones Elegantes */
        .btn-quelora {
            background-color: var(--color-primary-accent);
            color: white;
            border: 1px solid var(--color-primary-accent);
            font-weight: 600;
            padding: 0.6rem 2rem;
            border-radius: 10px;
            transition: all var(--transition-speed);
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
        }
        .btn-quelora:hover {
            background-color: var(--color-primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 123, 255, 0.4);
            color: white;
        }
        .btn-outline-primary {
            color: var(--color-primary-accent);
            border-color: var(--color-primary-accent);
            border-radius: 10px;
        }
        .btn-outline-primary:hover {
            background-color: var(--color-primary-accent);
            color: white;
        }
        .btn-outline-secondary {
             color: var(--color-text-secondary);
             border-color: var(--color-border);
             border-radius: 10px;
        }
        .btn-outline-secondary:hover {
            background-color: var(--color-background-dark);
            color: var(--color-text-dark);
        }
        [data-theme="dark"] .btn-outline-secondary:hover {
            background-color: #374151;
        }

        /* Hero Section */
        .hero {
            background-color: var(--color-background-dark);
            padding: 8rem 0 6rem;
            border-bottom: 5px solid var(--color-primary-accent); /* Línea de acento */
        }

        /* Cards and Features (Refinando la estética) */
        .card {
            background-color: var(--color-card-background-light);
            border: 1px solid var(--color-border);
            border-radius: 16px; /* Más redondeado */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08); /* Sombra profesional */
            transition: transform var(--transition-speed), box-shadow var(--transition-speed), background-color var(--transition-speed);
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        [data-theme="dark"] .card {
            background-color: var(--color-card-background-dark);
            border-color: #374151;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .icon-lg {
            font-size: 2.5rem;
            color: var(--color-primary-accent);
        }

        /* Sección de Código */
        pre {
            background-color: var(--color-background-dark);
            color: var(--color-text-dark);
            border: 1px solid var(--color-border);
            border-left: 5px solid var(--color-primary-accent); /* Barra de acento para código */
            border-radius: 8px;
            padding: 1.5rem;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        [data-theme="dark"] pre {
            background-color: #151515;
            border-color: #374151;
        }

        /* Footer */
        footer {
            background-color: var(--color-background-dark) !important;
            border-top: 1px solid var(--color-border);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="https://avatars.githubusercontent.com/u/224778839?v=4" alt="Quelora Logo" class="me-2 rounded-circle" width="30" height="30">
                <strong style="color: var(--color-text-dark);">Quelora</strong>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="#ai-performance" data-i18n="nav.performance">Performance</a></li>
                    <li class="nav-item"><a class="nav-link" href="#core-architecture" data-i18n="nav.architecture">Architecture</a></li>
                    <li class="nav-item"><a class="nav-link" href="#get-started" data-i18n="nav.get_started_short">Deployment</a></li>
                    <li class="nav-item"><a class="nav-link" href="#docs" data-i18n="nav.docs">Docs</a></li>
                </ul>
                <div class="d-flex align-items-center">
                    <div class="dropdown me-2">
                        <button class="btn btn-outline-secondary dropdown-toggle d-flex align-items-center" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                             <img src="https://flagcdn.com/w20/us.png" alt="English" id="currentLanguageFlag">
                            <span id="currentLanguage" class="ms-1">EN</span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                            <li><a class="dropdown-item d-flex align-items-center language-option" href="#" data-lang="en"><img src="https://flagcdn.com/w20/us.png" alt="English" class="me-2"> English</a></li>
                            <li><a class="dropdown-item d-flex align-items-center language-option" href="#" data-lang="es"><img src="https://flagcdn.com/w20/es.png" alt="Spanish" class="me-2"> Español</a></li>
                            <li><a class="dropdown-item d-flex align-items-center language-option" href="#" data-lang="fr"><img src="https://flagcdn.com/w20/fr.png" alt="French" class="me-2"> Français</a></li>
                            <li><a class="dropdown-item d-flex align-items-center language-option" href="#" data-lang="de"><img src="https://flagcdn.com/w20/de.png" alt="German" class="me-2"> Deutsch</a></li>
                        </ul>
                    </div>
                    
                    <button class="btn btn-outline-secondary theme-toggle me-2" id="themeToggle">
                        <i class="bi bi-sun-fill theme-icon" id="themeIcon"></i>
                    </button>
                    
                    <a href="https://github.com/Quelora/quelora-infra" target="_blank" class="btn btn-outline-primary ms-2" data-i18n="nav.view_infra">View Infra</a>
                </div>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="container text-center">
            <h1 class="display-4 fw-bold mb-3" data-i18n="hero.new_title">Quelora. The High-Performance Comment System with Augmented Intelligence.</h1>
            <p class="lead mb-4 text-secondary" data-i18n="hero.new_subtitle">Advanced moderation, geolocation, and analytics powered by AI, natively integrated into your website.</p>
            <div class="d-flex justify-content-center gap-3 flex-wrap pt-2">
                <a href="/news.html" class="btn btn-quelora btn-lg px-5" data-i18n="hero.view_live_demo">View Live Demo</a>
                <a href="https://github.com/Quelora/quelora-api" class="btn btn-outline-secondary btn-lg px-5" data-i18n="hero.explore_api">Explore API</a>
            </div>
        </div>
    </section>

    <section id="ai-performance" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 data-i18n="performance.title">AI-Powered Features & Max Speed</h2>
                <p class="lead text-secondary" data-i18n="performance.subtitle">The robust engine needed to manage demanding social content with guaranteed speed and intelligence.</p>
            </div>
            <div class="row g-5 align-items-center">
                
                <div class="col-lg-6">
                     <h3 data-i18n="performance.demo_title" class="mb-3">Zero Latency Proof</h3>
                    <p class="text-secondary mb-4" data-i18n="performance.demo_desc">Our live demo verifies Quelora's **speed and robustness** in processing, moderating, and visualizing thousands of dynamic comments with **minimal latency**. A performance feat only possible thanks to our caching architecture (**Redis**).</p>
                    <div class="d-flex flex-column gap-3">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-lightning-fill text-success fs-4 me-3"></i>
                            <span data-i18n="performance.feature1">**Redis Caching:** Ultra-fast transactions for real-time data.</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="bi bi-database-fill-check text-success fs-4 me-3"></i>
                            <span data-i18n="performance.feature2">**Mongo Persistence:** Flexible, scalable database for high volumes.</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="bi bi-robot text-success fs-4 me-3"></i>
                            <span data-i18n="performance.feature3">**Web Scraping:** Versatile dynamic data ingestion via Puppeteer/Chrome.</span>
                        </div>
                    </div>
                    <a href="/news.html" class="btn btn-quelora mt-4 px-5" data-i18n="demos.view_live_demo_link">View Live Demo</a>
                </div>

                <div class="col-lg-6">
                    <div class="card p-4 h-100">
                        <h4 class="mb-3" data-i18n="performance.ai_title">AI-Augmented Content Management</h4>
                        <p class="text-secondary" data-i18n="performance.ai_desc">We use the most advanced AI models (Gemini, OpenAI, Grok) to ensure a safe community environment and provide precise sentiment analysis, translation, and geolocation services.</p>
                        <ul class="list-unstyled">
                            <li class="mb-2"><i class="bi bi-check-circle-fill text-primary me-2"></i> **LLM Moderation:** Multi-provider toxicity and sentiment filtering.</li>
                            <li class="mb-2"><i class="bi bi-check-circle-fill text-primary me-2"></i> **Translation Services:** Automatic content translation (`translateService`).</li>
                            <li class="mb-2"><i class="bi bi-check-circle-fill text-primary me-2"></i> **Geospatial Analytics:** Traffic and activity statistics by location (`GeoLite2`).</li>
                            <li class="mb-2"><i class="bi bi-check-circle-fill text-primary me-2"></i> **Enterprise Security:** SSO, Rate Limiting, and Helmet implementation.</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="core-architecture" class="py-5 bg-primary-subtle" style="background-color: var(--color-background-dark) !important;">
        <div class="container">
            <div class="text-center mb-5">
                <h2 data-i18n="architecture.title">World-Class Architecture</h2>
                <p class="lead text-secondary" data-i18n="architecture.subtitle">A robust, scalable microservices solution that guarantees reliability and performance.</p>
            </div>
            <div class="row g-4 justify-content-center">
                 <div class="col-md-4">
                    <div class="card h-100 p-4 text-center">
                        <i class="bi bi-server icon-lg mx-auto mb-3"></i>
                        <h3 data-i18n="architecture.api_title" class="h4">Quelora API (Node.js)</h3>
                        <p class="text-secondary" data-i18n="architecture.api_description">The central engine managing business logic, AI moderation, notifications, and SSO.</p>
                        <a href="https://github.com/Quelora/quelora-api" class="btn btn-outline-primary mt-auto" data-i18n="repositories.view_repo">View Repo</a>
                    </div>
                </div>
                 <div class="col-md-4">
                    <div class="card h-100 p-4 text-center">
                        <i class="bi bi-plug icon-lg mx-auto mb-3"></i>
                        <h3 data-i18n="architecture.client_title" class="h4">Lightweight Integration Widget</h3>
                        <p class="text-secondary" data-i18n="architecture.client_description">A Vanilla JS client embeddable in any website, optimized for speed and user experience (includes audio and push notifications).</p>
                        <a href="https://github.com/Quelora/quelora-client" class="btn btn-outline-primary mt-auto" data-i18n="repositories.view_repo">View Repo</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 p-4 text-center">
                        <i class="bi bi-speedometer2 icon-lg mx-auto mb-3"></i>
                        <h3 data-i18n="architecture.dashboard_title" class="h4">Admin Control Panel (Dashboard)</h3>
                        <p class="text-secondary" data-i18n="architecture.dashboard_description">Administrative interface for managing users, posts, geo-located data, and real-time analytics.</p>
                        <a href="https://github.com/Quelora/quelora-dashboard" class="btn btn-outline-primary mt-auto" data-i18n="repositories.view_repo">View Repo</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="get-started" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 data-i18n="get_started.title">High-Level Deployment in Minutes</h2>
                <p class="lead text-secondary" data-i18n="get_started.subtitle">Launch your self-hosted instance with our optimized Docker Compose.</p>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    
                    <div class="card mb-4">
                        <div class="card-body">
                            <h4 class="mb-3" data-i18n="get_started.clone_title">1. Clone Infrastructure and Components</h4>
                            <p data-i18n="get_started.clone_desc_new">The Docker Compose infrastructure (`quelora-infra`) manages the orchestration of the API, Dashboard, Client, and databases (Redis/Mongo).</p>
                            <pre><code>git clone https://github.com/Quelora/quelora-infra.git
cd quelora-infra
git submodule update --remote --recursive</code></pre>
                        </div>
                    </div>
                    
                    <div class="card mb-4">
                        <div class="card-body">
                            <h4 class="mb-3" data-i18n="get_started.build_title">2. Configuration and Final Deployment</h4>
                            <p data-i18n="get_started.build_desc_new">Define environment variables for databases and services, then build and launch the complete microservices stack.</p>
                            <pre><code>cp .env.example .env
# Edit .env with your configuration (Redis/Mongo/LLM Keys)

docker compose -f docker-compose-production.yml build
docker compose -f docker-compose-production.yml up -d</code></pre>
                        </div>
                    </div>
                    
                    <div class="text-center mt-5">
                        <a href="https://github.com/Quelora/quelora-infra#readme" class="btn btn-quelora btn-lg px-5" data-i18n="get_started.full_docs">Full Documentation (Infra)</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="docs" class="py-5 bg-primary-subtle" style="background-color: var(--color-background-dark) !important;">
        <div class="container">
            <div class="text-center mb-5">
                <h2 data-i18n="docs.title">Documentation for Developers</h2>
                <p class="lead text-secondary" data-i18n="docs.subtitle">Learn how to integrate, extend, and optimize Quelora for your specific needs.</p>
            </div>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card h-100 p-4">
                        <h3 data-i18n="docs.1.title" class="h5">Core API Reference</h3>
                        <p class="text-secondary" data-i18n="docs.1.description">Documentation of API endpoints (`authRoutes`, `statsRoutes`) and data model management (Mongo).</p>
                        <a href="#" class="btn btn-outline-primary mt-auto" data-i18n="docs.read_more">Read More</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 p-4">
                        <h3 data-i18n="docs.2.title" class="h5">Client Integration (Widget)</h3>
                        <p class="text-secondary" data-i18n="docs.2.description">Step-by-step guide for integrating the Vanilla JS widget into any environment. CSS customization included.</p>
                        <a href="#" class="btn btn-outline-primary mt-auto" data-i18n="docs.read_more">Read More</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 p-4">
                        <h3 data-i18n="docs.3.title" class="h5">Provider Extension</h3>
                        <p class="text-secondary" data-i18n="docs.3.description">Guides for adding new AI providers (`ModerationProviders`) or SSO providers (`ssoProviders`).</p>
                        <a href="#" class="btn btn-outline-primary mt-auto" data-i18n="docs.read_more">Read More</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-5" style="background-color: var(--color-background-dark) !important;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 mb-4 mb-md-0">
                    <a class="d-inline-flex align-items-center text-decoration-none" href="#" style="color: var(--color-text-dark);">
                        <img src="https://avatars.githubusercontent.com/u/224778839?v=4" alt="Quelora Logo" width="40" class="me-2 rounded-circle">
                        <span class="fs-5 fw-bold">Quelora</span>
                    </a>
                    <p class="mt-2 mb-0 text-secondary" data-i18n="footer.description">Open-source dynamic content and moderation platform for modern websites.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="btn-group btn-group-actions">
                        <a href="https://github.com/Quelora" class="btn btn-outline-secondary">
                            <i class="bi bi-github"></i> <span data-i18n="footer.github">GitHub</span>
                        </a>
                        <a href="#" class="btn btn-outline-secondary">
                            <i class="bi bi-file-text"></i> <span data-i18n="footer.docs">Docs</span>
                        </a>
                        <a href="#" class="btn btn-outline-secondary">
                            <i class="bi bi-chat"></i> <span data-i18n="footer.contact">Contact</span>
                        </a>
                    </div>
                </div>
            </div>
            <hr class="my-4" style="border-color: var(--color-border);">
            <div class="text-center text-secondary">
                <p class="mb-0" data-i18n="footer.copyright">© 2025 Quelora. Open-source under GPL v3 License.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Theme toggle functionality (Conservada y adaptada a nuevas variables)
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const htmlElement = document.documentElement;
        
        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        
        if (savedTheme === 'dark') {
            htmlElement.setAttribute('data-theme', 'dark');
            themeIcon.classList.remove('bi-sun-fill');
            themeIcon.classList.add('bi-moon-fill');
        } else {
            htmlElement.removeAttribute('data-theme');
            themeIcon.classList.remove('bi-moon-fill');
            themeIcon.classList.add('bi-sun-fill');
        }
        
        themeToggle.addEventListener('click', () => {
            if (htmlElement.getAttribute('data-theme') === 'dark') {
                htmlElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                themeIcon.classList.remove('bi-moon-fill');
                themeIcon.classList.add('bi-sun-fill');
            } else {
                htmlElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                themeIcon.classList.remove('bi-sun-fill');
                themeIcon.classList.add('bi-moon-fill');
            }
        });
        
        // Language selector functionality (Conservada)
        const languageOptions = document.querySelectorAll('.language-option');
        const currentLanguageFlag = document.getElementById('currentLanguageFlag');
        const currentLanguageText = document.getElementById('currentLanguage');
        
        // Custom translations to integrate the new content
        const newTranslations = {
            "page_title": {
                "en": "Quelora | High-Performance Comment System with Augmented Intelligence",
                "es": "Quelora | Sistema de Comentarios de Alto Rendimiento con Inteligencia Aumentada"
            },
            "nav.architecture": { "en": "Architecture", "es": "Arquitectura" },
            "nav.performance": { "en": "Performance", "es": "Rendimiento" },
            "nav.get_started_short": { "en": "Deployment", "es": "Despliegue" },
            "nav.view_infra": { "en": "View Infra", "es": "Ver Infra" },
            "hero.new_title": {
                "en": "Quelora. The High-Performance Comment System with Augmented Intelligence.",
                "es": "Quelora. El Sistema de Comentarios de Alto Rendimiento con Inteligencia Aumentada."
            },
            "hero.new_subtitle": {
                "en": "Advanced moderation, geolocation, and analytics powered by AI, natively integrated into your website.",
                "es": "Moderación avanzada, geolocalización y analíticas impulsadas por IA, integradas en su sitio web de forma nativa."
            },
            "hero.view_live_demo": { "en": "View Live Demo", "es": "Ver Demo en Vivo" },
            "hero.explore_api": { "en": "Explore API", "es": "Explorar API" },
            "architecture.title": { "en": "World-Class Architecture", "es": "Arquitectura de Clase Mundial" },
            "architecture.subtitle": { "en": "A robust, scalable microservices solution that guarantees reliability and performance.", "es": "Una solución de microservicios robusta y escalable que garantiza confiabilidad y rendimiento." },
            "architecture.api_title": { "en": "Quelora API (Node.js)", "es": "Quelora API (Node.js)" },
            "architecture.api_description": { "en": "The central engine managing business logic, AI moderation, notifications, and SSO.", "es": "El motor central que gestiona la lógica de negocio, la moderación por IA, las notificaciones y el SSO." },
            "architecture.client_title": { "en": "Lightweight Integration Widget", "es": "Widget de Integración Ligera" },
            "architecture.client_description": { "en": "A Vanilla JS client embeddable in any website, optimized for speed and user experience (includes audio and push notifications).", "es": "Un cliente Vanilla JS integrable en cualquier web, optimizado para la velocidad y la experiencia de usuario (incluye audio y notificaciones push)." },
            "architecture.dashboard_title": { "en": "Admin Control Panel (Dashboard)", "es": "Panel de Control (Dashboard)" },
            "architecture.dashboard_description": { "en": "Administrative interface for managing users, posts, geo-located data, and real-time analytics.", "es": "Interfaz administrativa para la gestión de usuarios, posts, datos geolocalizados y analíticas en tiempo real." },
            "performance.title": { "en": "AI-Powered Features & Max Speed", "es": "Características Impulsadas por IA y Velocidad Máxima" },
            "performance.subtitle": { "en": "The robust engine needed to manage demanding social content with guaranteed speed and intelligence.", "es": "El motor robusto que se necesita para gestionar contenido social exigente con velocidad e inteligencia garantizadas." },
            "performance.demo_title": { "en": "Zero Latency Proof", "es": "Prueba de Latencia Cero" },
            "performance.demo_desc": { "en": "Our live demo verifies Quelora's **speed and robustness** in processing, moderating, and visualizing thousands of dynamic comments with **minimal latency**. A performance feat only possible thanks to our caching architecture (**Redis**).", "es": "La demo en vivo comprueba la **velocidad y robustez** de Quelora para procesar, moderar y visualizar miles de comentarios dinámicos con una **latencia mínima**. Una proeza de rendimiento solo posible gracias a nuestra arquitectura de caching (**Redis**)." },
            "performance.feature1": { "en": "**Redis Caching:** Ultra-fast transactions for real-time data.", "es": "**Caching Redis:** Transacciones ultra-rápidas para tiempo real." },
            "performance.feature2": { "en": "**Mongo Persistence:** Flexible, scalable database for high volumes.", "es": "**Persistencia Mongo:** Base de datos flexible y escalable para grandes volúmenes." },
            "performance.feature3": { "en": "**Web Scraping:** Versatile dynamic data ingestion via Puppeteer/Chrome.", "es": "**Web Scraping:** Ingesta versátil de datos dinámicos mediante Puppeteer/Chrome." },
            "demos.view_live_demo_link": { "en": "View Live Demo", "es": "Ver Demo en Vivo" },
            "performance.ai_title": { "en": "AI-Augmented Content Management", "es": "Gestión de Contenido Aumentada por IA" },
            "performance.ai_desc": { "en": "We use the most advanced AI models (Gemini, OpenAI, Grok) to ensure a safe community environment and provide precise sentiment analysis, translation, and geolocation services.", "es": "Utilizamos los modelos de IA más avanzados (Gemini, OpenAI, Grok) para asegurar un entorno comunitario seguro y ofrecer servicios de análisis de sentimiento, traducción y geolocalización precisos." },
            "get_started.title": { "en": "High-Level Deployment in Minutes", "es": "Despliegue de Alto Nivel en Minutos" },
            "get_started.subtitle": { "en": "Launch your self-hosted instance with our optimized Docker Compose.", "es": "Inicia tu instancia auto-alojada con nuestro Docker Compose optimizado." },
            "get_started.clone_title": { "en": "1. Clone Infrastructure and Components", "es": "1. Clona la Infraestructura y Componentes" },
            "get_started.clone_desc_new": { "en": "The Docker Compose infrastructure (`quelora-infra`) manages the orchestration of the API, Dashboard, Client, and databases (Redis/Mongo).", "es": "La infraestructura Docker Compose (`quelora-infra`) gestiona la orquestación de la API, Dashboard, Cliente y las bases de datos (Redis/Mongo)." },
            "get_started.build_title": { "en": "2. Configuration and Final Deployment", "es": "2. Configuración y Despliegue Final" },
            "get_started.build_desc_new": { "en": "Define environment variables for databases and services, then build and launch the complete microservices stack.", "es": "Define las variables de entorno para las bases de datos y servicios, luego construye y lanza la pila completa de microservicios." },
            "get_started.full_docs": { "en": "Full Documentation (Infra)", "es": "Documentación Completa (Infra)" },
            "docs.title": { "en": "Documentation for Developers", "es": "Documentación para Desarrolladores" },
            "docs.subtitle": { "en": "Learn how to integrate, extend, and optimize Quelora for your specific needs.", "es": "Aprende a integrar, extender y optimizar Quelora para tus necesidades específicas." },
            "docs.1.title": { "en": "Core API Reference", "es": "Referencia API Core" },
            "docs.1.description": { "en": "Documentation of API endpoints (`authRoutes`, `statsRoutes`) and data model management (Mongo).", "es": "Documentación de endpoints (`authRoutes`, `statsRoutes`) y gestión de modelos de datos (Mongo)." },
            "docs.2.title": { "en": "Client Integration (Widget)", "es": "Integración del Cliente (Widget)" },
            "docs.2.description": { "en": "Step-by-step guide for integrating the Vanilla JS widget into any environment. CSS customization included.", "es": "Guía paso a paso para integrar el widget Vanilla JS en cualquier entorno. Personalización CSS incluida." },
            "docs.3.title": { "en": "Provider Extension", "es": "Extensión de Proveedores" },
            "docs.3.description": { "en": "Guides for adding new AI providers (`ModerationProviders`) or SSO providers (`ssoProviders`).", "es": "Guías para añadir nuevos proveedores de IA (`ModerationProviders`) o de SSO (`ssoProviders`)." },
            "docs.read_more": { "en": "Read More", "es": "Leer Más" },
            "footer.description": { "en": "Open-source dynamic content and moderation platform for modern websites.", "es": "Plataforma de contenido dinámico y moderación de código abierto para sitios web modernos." },
            "footer.github": { "en": "GitHub", "es": "GitHub" },
            "footer.docs": { "en": "Docs", "es": "Docs" },
            "footer.contact": { "en": "Contact", "es": "Contacto" },
            "footer.copyright": { "en": "© 2025 Quelora. Open-source under GPL v3 License.", "es": "© 2025 Quelora. Código abierto bajo licencia GPL v3." },

            // Conservar las traducciones originales para compatibilidad con otros idiomas (fr, de)
            "nav.features": { "en": "Features", "es": "Características", "fr": "Fonctionnalités", "de": "Funktionen" },
            "nav.demos": { "en": "Demos", "es": "Demostraciones", "fr": "Démonstrations", "de": "Demos" },
            "nav.docs": { "en": "Docs", "es": "Documentación", "fr": "Documentation", "de": "Dokumentation" },
            "nav.community": { "en": "Community", "es": "Comunidad", "fr": "Communauté", "de": "Community" },
            "nav.repositories": { "en": "Repositories", "es": "Repositorios", "fr": "Dépôts", "de": "Repositories" },
            "features.1.title": { "en": "Comment System", "es": "Sistema de Comentarios", "fr": "Système de Commentaires", "de": "Kommentarsystem" },
            "features.2.title": { "en": "Community Tools", "es": "Herramientas Comunitarias", "fr": "Outils Communautaires", "de": "Community-Tools" },
            "features.3.title": { "en": "Vanilla JS Widget", "es": "Widget Vanilla JS", "fr": "Widget Vanilla JS", "de": "Vanilla JS Widget" },
            "features.4.title": { "en": "NodeJS API", "es": "API NodeJS", "fr": "API NodeJS", "de": "NodeJS API" },
            "features.5.title": { "en": "Dashboard", "es": "Panel de Control", "fr": "Tableau de Bord", "de": "Dashboard" },
            "features.6.title": { "en": "Demo Page", "es": "Página de Demostración", "fr": "Page de Démonstration", "de": "Demo-Seite" },
            "repositories.view_repo": { "en": "View Repo", "es": "Ver Repo", "fr": "Voir le Dépôt", "de": "Repository ansehen" }
        };

        // Helper function to check if item is a plain object
        function isObject(item) {
            return (item && typeof item === 'object' && !Array.isArray(item));
        }
        
        // Function to apply translations using the new structure
        function applyTranslations(lang) {
             document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                
                // Get translation from new structure, or fallback to default i18next behavior
                let translation = newTranslations[key] && newTranslations[key][lang] ? newTranslations[key][lang] : i18next.t(key);

                if (translation) {
                    element.textContent = translation;
                }
            });
            // Update page title separately
            if(newTranslations['page_title'] && newTranslations['page_title'][lang]) {
                document.title = newTranslations['page_title'][lang];
            }
        }
        
        // Language selection handler
        languageOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.preventDefault();
                const lang = option.getAttribute('data-lang');
                i18next.changeLanguage(lang, (err) => {
                    localStorage.setItem('language', lang);
                    applyTranslations(lang);
                    updateLanguageDisplay(lang);
                });
            });
        });

        // Function to update language display in selector
        function updateLanguageDisplay(lang) {
            let flagUrl, languageText;
            
            switch(lang) {
                case 'es':
                    flagUrl = 'https://flagcdn.com/w20/es.png';
                    languageText = 'ES';
                    break;
                case 'fr':
                    flagUrl = 'https://flagcdn.com/w20/fr.png';
                    languageText = 'FR';
                    break;
                case 'de':
                    flagUrl = 'https://flagcdn.com/w20/de.png';
                    languageText = 'DE';
                    break;
                default: // en
                    flagUrl = 'https://flagcdn.com/w20/us.png';
                    languageText = 'EN';
            }
            
            currentLanguageFlag.src = flagUrl;
            currentLanguageFlag.alt = languageText;
            currentLanguageText.textContent = languageText;
        }

        // Initialize i18next
        i18next.init({
            lng: localStorage.getItem('language') || 'en', // DEFAULT TO ENGLISH
            debug: false,
            resources: {
                // We leave the resource object empty here and rely on the manual translation lookup for the new keys.
            }
        }, function(err, t) {
            applyTranslations(i18next.language);
            // Re-bind the initialization process in case of slow loading
            i18next.on('languageChanged', (lng) => {
                applyTranslations(lng);
            });
        });
    </script>
</body>
</html>